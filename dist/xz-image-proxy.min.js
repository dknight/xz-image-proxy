//xz-image-proxy.min.js,1.0.0,https://github.com/dknight/xz-image-proxy
class i extends HTMLElement{static TAG_NAME="xz-image-proxy";static observedAttributes=["width","height"];#t=null;#e=document.createElement("style");#s=document.createElement("span");constructor(){super(),this.width="100%",this.height="100%",this.root=this.attachShadow({mode:"open"}),this.root.append(this.#e,this.#s),this.#e.textContent=":host{--w: 100%;--h: 100%;width:var(--w);height:var(--h);background:#d3d3d3;font: 1.5em sans-serif;color:#666;display:inline-flex;align-items:center;justify-content:center}"}#h=e=>{let t=String(e);return t.match(/^-?[0-9]+$/)&&(t+="px"),t};#i=()=>{const[e,t]=[Number.parseInt(this.width),Number.parseInt(this.height)];this.#s.textContent=`${e}\xD7${t}`,this.setAttribute("aria-label",`Image proxy ${e}\xD7${t}`)};attributeChangedCallback(e,t,h){if(t===h)return;const s=this.#h(h);switch(e){case"width":this.style.setProperty("--w",s),this.width=s;break;case"height":this.style.setProperty("--h",s),this.height=s;break}this.#i()}connectedCallback(){this.setAttribute("role","img"),this.#t=new ResizeObserver(e=>{for(const t of e)t.contentRect&&(this.width=t.contentRect.width,this.height=t.contentRect.height,this.#i())}),this.#t.observe(this)}disconnectedCallback(){this.#t.disconnect()}}customElements.define(i.TAG_NAME,i);export default i;
//# sourceMappingURL=xz-image-proxy.min.js.map
